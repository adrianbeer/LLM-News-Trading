# highmemworkers.yaml
apiVersion: kubernetes.dask.org/v1
kind: DaskWorkerGroup
metadata:
  name: example-highmem
spec:
  cluster: example
  worker:
    replicas: 10
    spec:
      containers:
      - name: highmem
        image: "hermelinkluntjes/thesis:test"
        imagePullPolicy: "IfNotPresent"
        resources:
          requests:
            cpu: "2"
            memory: "11Gi"
          limits:
            cpu: "3"
            memory: "11Gi"
        args:
          - dask-worker
          - --name
          - $(DASK_WORKER_NAME)
          - --dashboard
          - --dashboard-address
          - "8788"
        ports:
          - name: http-dashboard
            containerPort: 8788
            protocol: TCP
      nodeSelector:
        cloud.google.com/gke-nodepool: workerpool